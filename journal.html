<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Belur Expedition</title>
    <style>
        /* Thematic Styles */
        body { 
            background-color: #2c2c2c; 
            background-image: url('https://www.transparenttextures.com/patterns/dark-matter.png'); /* Stone texture */
            color: #d4af37; /* Gold */
            font-family: 'Georgia', serif;
            padding: 15px;
        }
        .journal-container {
            max-width: 600px;
            margin: 0 auto;
            background: #fdf5e6; /* Parchment color */
            border: 8px solid #8b4513;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            color: #3e2723;
        }
        .header {
            background: #3e2723;
            color: #d4af37;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid #d4af37;
        }
        .rank-display {
            text-align: center;
            font-weight: bold;
            padding: 10px;
            background: #efe0c0;
            border-bottom: 2px solid #8b4513;
        }
        .item {
            background: #fff;
            margin: 10px;
            padding: 15px;
            border: 2px solid #d7ccc8;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s;
        }
        .item.completed {
            background: #d7ccc8;
            border-color: #8b4513;
            transform: scale(0.98);
            opacity: 0.8;
        }
        .checkbox {
            width: 30px;
            height: 30px;
            border: 3px solid #3e2723;
            border-radius: 50%; /* Circular like temple pillars */
            flex-shrink: 0;
        }
        .completed .checkbox {
            background: #8b4513;
            box-shadow: inset 0 0 5px #fff;
        }
        .submit-btn {
            background: #8b4513;
            color: #d4af37;
            width: calc(100% - 20px);
            margin: 10px;
            padding: 20px;
            border: none;
            font-size: 1.4em;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
        }
        input, textarea {
            background: #fff9c4;
            border: 1px solid #8b4513;
            padding: 10px;
            margin: 5px 0;
            width: 100%;
        }
    </style>
</head>
<body>

<div class="journal-container">
    <div class="header">
        <h1 style="margin:0;">ðŸ“œ BELUR EXPEDITION</h1>
        <p style="font-style:italic;">Archaeological Field Journal</p>
    </div>

    <div class="rank-display" id="rankBadge">Rank: Novice Explorer</div>

    <div style="padding: 15px;">
        <input type="text" id="teamName" placeholder=" ÑÐºÑÐ¿ÐµÐ´Ð¸Ñ†Ð¸Ñ Team Name...">
        <input type="text" id="teacher" placeholder="Supervising Professor (Teacher)...">
        <textarea id="members" placeholder="Expedition Members..."></textarea>
    </div>

    <div id="missionList"></div>

    <button class="submit-btn" onclick="submitResults()">ðŸ“¤ Dispatch Report</button>
</div>

<script>
    const items = ["The Royal Emblem", "Gravity Pillar", "Charging Lions", "Elephant Frieze", "Darpanasundari", "The Drummer", "Monkey & Scorpion", "Rotating Pillar", "Ceiling Lotus", "Stone Lattice", "Step Well", "Horse Frieze", "Mythical Makara", "Smallest Ganesha", "The Huntress", "Shuko-Bhashini", "Dancing Floor", "Vishnu Avatar", "Mohini Figure", "Deepa Stambha"];

    let state = JSON.parse(localStorage.getItem('belurJournal') || '{}');

    function updateUI() {
        const container = document.getElementById('missionList');
        container.innerHTML = '';
        let count = 0;

        items.forEach((name, i) => {
            const isDone = state[i];
            if(isDone) count++;
            const div = document.createElement('div');
            div.className = `item ${isDone ? 'completed' : ''}`;
            div.onclick = () => { state[i] = !state[i]; save(); updateUI(); };
            div.innerHTML = `<div class="checkbox"></div><span><strong>${i+1}.</strong> ${name}</span>`;
            container.appendChild(div);
        });

        // Update Rank
        let rank = "Novice Explorer";
        if(count > 5) rank = "Royal Scout";
        if(count > 12) rank = "Master Archaeologist";
        if(count === 20) rank = "ðŸ† Legend of the Hoysala";
        document.getElementById('rankBadge').innerText = `Rank: ${rank}`;
    }

    function save() {
        state.teamName = document.getElementById('teamName').value;
        state.teacher = document.getElementById('teacher').value;
        state.members = document.getElementById('members').value;
        localStorage.setItem('belurJournal', JSON.stringify(state));
    }

    function submitResults() {
        const count = Object.keys(state).filter(k => state[k] === true && !isNaN(k)).length;
        const text = `ðŸ“œ MISSION DISPATCH ðŸ“œ\nTeam: ${document.getElementById('teamName').value}\nRank: ${document.getElementById('rankBadge').innerText}\nItems Found: ${count}/20`;
        navigator.share ? navigator.share({title: 'Expedition Report', text: text}) : alert(text);
    }

    document.querySelectorAll('input, textarea').forEach(el => {
        el.value = state[el.id] || '';
        el.oninput = save;
    });

    updateUI();
</script>

</body>
</html>
